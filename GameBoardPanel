
import java.awt.*;
import javax.swing.*;
import java.awt.image.*;
import javax.imageio.ImageIO;
import java.io.*;
import java.awt.event.MouseListener;
import java.awt.event.MouseEvent;
import java.util.*;
import java.util.Arrays; 
import java.lang.System.*;

public class GameBoardPanel extends JPanel implements MouseListener {

    private BufferedImage background, blackGem, blueGem, redGem, greenGem, whiteGem, reserveGem;
    private BufferedImage tempCard, level1Card, level2Card, level3Card;
    private ArrayList<BufferedImage> Level1Images = new ArrayList<BufferedImage>();
    private ArrayList<BufferedImage> Level2Images = new ArrayList<BufferedImage>();
    private ArrayList<BufferedImage> Level3Images = new ArrayList<BufferedImage>();
    private Boolean[] Level1ImagesUsed = new Boolean[40];
    private Boolean[] Level2ImagesUsed = new Boolean[30];
    private Boolean[] Level3ImagesUsed = new Boolean[20];
    private ArrayList<Card> Level1Cards = new ArrayList<Card>();
    private ArrayList<Card> Level2Cards = new ArrayList<Card>();
    private ArrayList<Card> Level3Cards = new ArrayList<Card>();
    private BufferedImage[] PatronImages = new BufferedImage[10];
    private ArrayList<Patron> PatronCards = new ArrayList<Patron>();

    public GameBoardPanel() {
        loadImages();
    }

    private void loadImages() {

        try {
        	//filling array of images with false( meaning its not used)
        	Arrays.fill(Level1ImagesUsed, false);
        	Arrays.fill(Level2ImagesUsed, false);
        	Arrays.fill(Level3ImagesUsed, false);
        	

            // Background
            background = ImageIO.read(getClass().getResource("/splendorImages/creamylol.jpg"));

            // Gems
            blackGem = ImageIO.read(getClass().getResource("/splendorImages/BlackGem.png"));
            blueGem = ImageIO.read(getClass().getResource("/splendorImages/BlueGem.png"));
            redGem = ImageIO.read(getClass().getResource("/splendorImages/RedGem.png"));
            greenGem = ImageIO.read(getClass().getResource("/splendorImages/GreenGem.png"));
            whiteGem = ImageIO.read(getClass().getResource("/splendorImages/WhiteGem.png"));
            reserveGem = ImageIO.read(getClass().getResource("/splendorImages/ReserveGem.png"));

            tempCard = ImageIO.read(getClass().getResource("/splendorImages/creamylol.JPG"));
            
            // Deck levels

            level1Card = ImageIO.read(getClass().getResource("/splendorImages/Level1Card.png"));
            level2Card = ImageIO.read(getClass().getResource("/splendorImages/Level2Card.png"));
            level3Card = ImageIO.read(getClass().getResource("/splendorImages/Level3Card.png"));

            // Cards by color
            // level 1
            for(int k = 0; k<5 ; k++)
            {
	            for(int i = 1; i<=8 ; i++)
	            {
	            	if(k==0)
	            	{
	            		Level1Images.add(ImageIO.read(getClass().getResource("/splendorImages/BlackCard"+i+"Level1.png")));
	            	}
	            	else if(k==1)
	            	{
	            		Level1Images.add(ImageIO.read(getClass().getResource("/splendorImages/BlueCard"+i+"Level1.png")));
	            	}
	            	else if(k==2)
	            	{
	            		Level1Images.add(ImageIO.read(getClass().getResource("/splendorImages/RedCard"+i+"Level1.png")));
	            	}
	            	else if(k==3)
	            	{
	            		Level1Images.add(ImageIO.read(getClass().getResource("/splendorImages/GreenCard"+i+"Level1.png")));
	            	}
	            	else if(k==4)
	            	{
	            		Level1Images.add(ImageIO.read(getClass().getResource("/splendorImages/WhiteCard"+i+"Level1.png")));
	            	}
	           
	            }
            }
            // adding card class objects into list
            // adding black
            TreeMap<String, Integer> map = new TreeMap<String, Integer>();
            map.put("blue", 4);
    		Level1Cards.add(new Card(1, "black", Level1Images.get(0), map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 3);
    		Level1Cards.add(new Card(0, "black", Level1Images.get(1), map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 2);
    		map.put("red", 1);
    		Level1Cards.add(new Card(0, "black", Level1Images.get(2), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("green", 2);
    		Level1Cards.add(new Card(0, "black", Level1Images.get(3), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("blue", 2);
    		map.put("red", 1);
    		Level1Cards.add(new Card(0, "black", Level1Images.get(4), map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 1);
    		map.put("red", 3);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "black", Level1Images.get(5), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("blue", 1);
    		map.put("green", 1);
    		map.put("red", 1);
    		Level1Cards.add(new Card(0, "black", Level1Images.get(6), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("blue", 2);
    		map.put("green", 1);
    		map.put("red", 1);
    		Level1Cards.add(new Card(0, "black", Level1Images.get(7), map));
    		//Adding blue cards now
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("green", 1);
    		map.put("red", 1);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "blue", Level1Images.get(8), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("green", 1);
    		map.put("red", 2);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "blue", Level1Images.get(9), map));
    		map = new TreeMap<String, Integer>();
    		map.put("red", 4);
    		Level1Cards.add(new Card(1, "blue", Level1Images.get(10), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 1);
    		map.put("green", 3);
    		map.put("red", 1);
    		Level1Cards.add(new Card(0, "blue", Level1Images.get(11), map));
    		map = new TreeMap<String, Integer>();
    		map.put("black", 3);
    		Level1Cards.add(new Card(0, "blue", Level1Images.get(12), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("black", 2);
    		Level1Cards.add(new Card(0, "blue", Level1Images.get(13), map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 2);
    		map.put("black", 2);
    		Level1Cards.add(new Card(0, "blue", Level1Images.get(14), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("green", 2);
    		map.put("red", 2);
    		Level1Cards.add(new Card(0, "blue", Level1Images.get(15), map));
    		// adding green
    		map = new TreeMap<String, Integer>();
    		map.put("black", 4);
    		Level1Cards.add(new Card(1, "green", Level1Images.get(16), map));
    		map = new TreeMap<String, Integer>();
    		map.put("red", 3);
    		Level1Cards.add(new Card(0, "green", Level1Images.get(17), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("blue", 1);
    		Level1Cards.add(new Card(0, "green", Level1Images.get(18), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("blue", 3);
    		map.put("green", 1);
    		Level1Cards.add(new Card(0, "green", Level1Images.get(19), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 1);
    		map.put("red", 2);
    		map.put("black", 2);
    		Level1Cards.add(new Card(0, "green", Level1Images.get(20), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 2);
    		map.put("red", 2);
    		Level1Cards.add(new Card(0, "green", Level1Images.get(21), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("blue", 1);
    		map.put("red", 1);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "green", Level1Images.get(22), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("blue", 1);
    		map.put("red", 1);
    		map.put("black", 2);
    		Level1Cards.add(new Card(0, "green", Level1Images.get(23), map));
    		// adding red
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("green", 1);
    		map.put("black", 2);
    		Level1Cards.add(new Card(0, "red", Level1Images.get(24), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		Level1Cards.add(new Card(0, "red", Level1Images.get(25), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("red", 1);
    		map.put("black", 3);
    		Level1Cards.add(new Card(0, "red", Level1Images.get(26), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 2);
    		map.put("green", 1);
    		Level1Cards.add(new Card(0, "red", Level1Images.get(27), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("red", 2);
    		Level1Cards.add(new Card(0, "red", Level1Images.get(28), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("red", 1);
    		map.put("black", 3);
    		Level1Cards.add(new Card(0, "red", Level1Images.get(29), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("blue", 1);
    		map.put("green", 1);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "red", Level1Images.get(30), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("blue", 1);
    		map.put("green", 1);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "red", Level1Images.get(31), map));
    		// adding white
    		map = new TreeMap<String, Integer>();
    		map.put("green", 4);
    		Level1Cards.add(new Card(1, "white", Level1Images.get(32), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 2);
    		map.put("black", 2);
    		Level1Cards.add(new Card(0, "white", Level1Images.get(33), map));
    		map = new TreeMap<String, Integer>();
    		map.put("red", 2);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "white", Level1Images.get(34), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 3);
    		Level1Cards.add(new Card(0, "white", Level1Images.get(35), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 1);
    		map.put("green", 1);
    		map.put("red", 1);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "white", Level1Images.get(36), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 1);
    		map.put("green", 2);
    		map.put("red", 1);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "white", Level1Images.get(37), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 2);
    		map.put("green", 2);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "white", Level1Images.get(38), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("blue", 1);
    		map.put("black", 1);
    		Level1Cards.add(new Card(0, "white", Level1Images.get(39), map));
    		
    		
    		
            // level 2
            for(int k = 0; k<5 ; k++)
            {
	            for(int i = 1; i<=6 ; i++)
	            {
	            	if(k==0)
	            	{
	            		Level2Images.add(ImageIO.read(getClass().getResource("/splendorImages/BlackCard"+i+"Level2.png")));
	            	}
	            	else if(k==1)
	            	{
	            		Level2Images.add(ImageIO.read(getClass().getResource("/splendorImages/BlueCard"+i+"Level2.png")));
	            	}
	            	else if(k==2)
	            	{
	            		Level2Images.add(ImageIO.read(getClass().getResource("/splendorImages/RedCard"+i+"Level2.png")));
	            	}
	            	else if(k==3)
	            	{
	            		Level2Images.add(ImageIO.read(getClass().getResource("/splendorImages/GreenCard"+i+"Level2.png")));
	            	}
	            	else if(k==4)
	            	{
	            		Level2Images.add(ImageIO.read(getClass().getResource("/splendorImages/WhiteCard"+i+"Level2.png")));
	            	}
	           
	            }
            }
            // adding Level2 cards
            //adding black cards
            map = new TreeMap<String, Integer>();
            map.put("black", 6);
    		Level2Cards.add(new Card(3, "black", Level2Images.get(0), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 5);
    		Level2Cards.add(new Card(2, "black", Level2Images.get(1), map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 5);
    		map.put("red", 3);
    		Level2Cards.add(new Card(2, "black", Level2Images.get(2), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 1);
    		map.put("green", 4);
    		map.put("red", 2);
    		Level2Cards.add(new Card(2, "black", Level2Images.get(3), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("green", 3);
    		map.put("black", 2);
    		Level2Cards.add(new Card(1, "black", Level2Images.get(4), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("blue", 2);
    		map.put("green", 2);
    		Level2Cards.add(new Card(1, "black", Level2Images.get(5), map));
    		//
    		//Adding blue cards now
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 6);
    		Level2Cards.add(new Card(3, "blue", Level2Images.get(6), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 5);
    		Level2Cards.add(new Card(2, "blue", Level2Images.get(7), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("red", 1);
    		map.put("black", 4);
    		Level2Cards.add(new Card(2, "blue", Level2Images.get(8), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 5);
    		map.put("blue", 3);
    		Level2Cards.add(new Card(2, "blue", Level2Images.get(9), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 2);
    		map.put("green", 3);
    		map.put("black", 3);
    		Level2Cards.add(new Card(1, "blue", Level2Images.get(10), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 2);
    		map.put("green", 2);
    		map.put("red", 3);
    		Level2Cards.add(new Card(1, "blue", Level2Images.get(11), map));
    		//
    		// adding green
    		map = new TreeMap<String, Integer>();
    		map.put("green", 6);
    		Level2Cards.add(new Card(3, "green", Level2Images.get(12), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 5);
    		map.put("green", 3);
    		Level2Cards.add(new Card(2, "green", Level2Images.get(13), map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 5);
    		Level2Cards.add(new Card(2, "green", Level2Images.get(14), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 4);
    		map.put("blue", 2);
    		map.put("black", 1);
    		Level2Cards.add(new Card(2, "green", Level2Images.get(15), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("green", 2);
    		map.put("red", 3);
    		Level2Cards.add(new Card(1, "green", Level2Images.get(16), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("blue", 3);
    		map.put("black", 2);
    		Level2Cards.add(new Card(1, "green", Level2Images.get(17), map));
    		//
    		// adding red
    		map = new TreeMap<String, Integer>();
    		map.put("red", 6);
    		Level2Cards.add(new Card(3, "red", Level2Images.get(18), map));
    		map = new TreeMap<String, Integer>();
    		map.put("black", 5);
    		Level2Cards.add(new Card(2, "red", Level2Images.get(19), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("black", 5);
    		Level2Cards.add(new Card(2, "red", Level2Images.get(20), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 1);
    		map.put("blue", 4);
    		map.put("green", 2);
    		Level2Cards.add(new Card(2, "red", Level2Images.get(21), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 3);
    		map.put("red", 2);
    		map.put("black", 3);
    		Level2Cards.add(new Card(1, "red", Level2Images.get(22), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("red", 2);
    		map.put("black", 3);
    		Level2Cards.add(new Card(1, "red", Level2Images.get(23), map));
    		//
    		// adding white
    		map = new TreeMap<String, Integer>();
    		map.put("white", 6);
    		Level2Cards.add(new Card(3, "white", Level2Images.get(24), map));
    		map = new TreeMap<String, Integer>();
    		map.put("red", 5);
    		map.put("black", 3);
    		Level2Cards.add(new Card(2, "white", Level2Images.get(25), map));
    		map = new TreeMap<String, Integer>();
    		map.put("red", 5);
    		Level2Cards.add(new Card(2, "white", Level2Images.get(26), map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 1);
    		map.put("red", 4);
    		map.put("black", 2);
    		Level2Cards.add(new Card(2, "white", Level2Images.get(27), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 2);
    		map.put("blue", 3);
    		map.put("red", 3);
    		Level2Cards.add(new Card(1, "white", Level2Images.get(28), map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 3);
    		map.put("red", 2);
    		map.put("black", 2);
    		Level2Cards.add(new Card(1, "white", Level2Images.get(29), map));
    		//
            // level 3
            for(int k = 0; k<5 ; k++)
            {
	            for(int i = 1; i<=4 ; i++)
	            {
	            	if(k==0)
	            	{
	            		Level3Images.add(ImageIO.read(getClass().getResource("/splendorImages/BlackCard"+i+"Level3.png")));
	            	}
	            	else if(k==1)
	            	{
	            		Level3Images.add(ImageIO.read(getClass().getResource("/splendorImages/BlueCard"+i+"Level3.png")));
	            	}
	            	else if(k==2)
	            	{
	            		Level3Images.add(ImageIO.read(getClass().getResource("/splendorImages/RedCard"+i+"Level3.png")));
	            	}
	            	else if(k==3)
	            	{
	            		Level3Images.add(ImageIO.read(getClass().getResource("/splendorImages/GreenCard"+i+"Level3.png")));
	            	}
	            	else if(k==4)
	            	{
	            		Level3Images.add(ImageIO.read(getClass().getResource("/splendorImages/WhiteCard"+i+"Level3.png")));
	            	}
	           
	            }
            }
            // adding Level3 cards
            //adding black cards
            map = new TreeMap<String, Integer>();
            map.put("red", 7);
            map.put("black", 3);
    		Level3Cards.add(new Card(5, "black", Level3Images.get(0), map));
    		map = new TreeMap<String, Integer>();
    		map.put("red", 7);
    		Level3Cards.add(new Card(4, "black", Level3Images.get(1), map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 3);
    		map.put("red", 6);
    		map.put("black", 3);
    		Level3Cards.add(new Card(4, "black", Level3Images.get(2), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("blue", 3);
    		map.put("green", 5);
    		map.put("red", 3);
    		Level3Cards.add(new Card(3, "black", Level3Images.get(3), map));
    		//
    		//Adding blue cards now
    		map = new TreeMap<String, Integer>();
    		map.put("white", 7);
    		map.put("blue", 3);
    		Level3Cards.add(new Card(5, "blue", Level3Images.get(4), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 6);
    		map.put("blue", 3);
    		map.put("black", 3);
    		Level3Cards.add(new Card(4, "blue", Level3Images.get(5), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 7);
    		Level3Cards.add(new Card(4, "blue", Level3Images.get(6), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("green", 3);
    		map.put("red", 3);
    		map.put("black", 5);
    		Level3Cards.add(new Card(3, "blue", Level3Images.get(7), map));
    		//
    		// adding green
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 7);
    		map.put("green", 3);
    		Level3Cards.add(new Card(5, "green", Level3Images.get(8), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("blue", 6);
    		map.put("green", 3);
    		Level3Cards.add(new Card(4, "green", Level3Images.get(9), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 7);
    		Level3Cards.add(new Card(4, "green", Level3Images.get(10), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 5);
    		map.put("blue", 3);
    		map.put("red", 3);
    		map.put("black", 3);
    		Level3Cards.add(new Card(3, "green", Level3Images.get(11), map));
    		//
    		// adding red
    		map = new TreeMap<String, Integer>();
    		map.put("green", 7);
    		map.put("red", 3);
    		Level3Cards.add(new Card(5, "red", Level3Images.get(12), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 3);
    		map.put("green", 6);
    		map.put("red", 3);
    		Level3Cards.add(new Card(4, "red", Level3Images.get(13), map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 7);
    		Level3Cards.add(new Card(4, "red", Level3Images.get(14), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("blue", 5);
    		map.put("green", 3);
    		map.put("black", 3);
    		Level3Cards.add(new Card(3, "red", Level3Images.get(15), map));
    		//
    		// adding white
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("black", 7);
    		Level3Cards.add(new Card(5, "white", Level3Images.get(16), map));
    		map = new TreeMap<String, Integer>();
    		map.put("black", 7);
    		Level3Cards.add(new Card(4, "white", Level3Images.get(17), map));
    		map = new TreeMap<String, Integer>();
    		map.put("white", 3);
    		map.put("red", 3);
    		map.put("black", 6);
    		Level3Cards.add(new Card(4, "white", Level3Images.get(18), map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 3);
    		map.put("green", 3);
    		map.put("red", 5);
    		map.put("black", 3);
    		Level3Cards.add(new Card(3, "white", Level3Images.get(19), map));

            // PatronImages
            for (int i = 1; i <= 10; i++) {
                PatronImages[i - 1] = ImageIO.read(getClass().getResource("/splendorImages/Patreon" + i + ".png"));
            }
            // assigning the patreon images to a Patron class obj
            //
            map = new TreeMap<String, Integer>();
    		map.put("blue", 4);
    		map.put("green", 4);
    		PatronCards.add(new Patron(3, PatronImages[0], map));
    		map = new TreeMap<String, Integer>();
    		map.put("black", 4);
    		map.put("red", 4);
    		PatronCards.add(new Patron(3, PatronImages[1], map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 3);
    		map.put("blue", 3);
    		map.put("red", 3);
    		PatronCards.add(new Patron(3, PatronImages[2], map));
    		map = new TreeMap<String, Integer>();
    		map.put("black", 3);
    		map.put("red", 3);
    		map.put("white", 3);
    		PatronCards.add(new Patron(3, PatronImages[3], map));
    		map = new TreeMap<String, Integer>();
    		map.put("black", 3);
    		map.put("red", 3);
    		map.put("green", 3);
    		PatronCards.add(new Patron(3, PatronImages[4], map));
    		map = new TreeMap<String, Integer>();
    		map.put("blue", 4);
    		map.put("white", 4);
    		PatronCards.add(new Patron(3, PatronImages[5], map));
    		map = new TreeMap<String, Integer>();
    		map.put("red", 4);
    		map.put("green", 4);
    		PatronCards.add(new Patron(3, PatronImages[6], map));
    		map = new TreeMap<String, Integer>();
    		map.put("green", 3);
    		map.put("blue", 3);
    		map.put("white", 3);
    		PatronCards.add(new Patron(3, PatronImages[7], map));
    		map = new TreeMap<String, Integer>();
    		map.put("black", 3);
    		map.put("blue", 3);
    		map.put("white", 3);
    		PatronCards.add(new Patron(3, PatronImages[8], map));
    		map = new TreeMap<String, Integer>();
    		map.put("black", 4);
    		map.put("white", 4);
    		PatronCards.add(new Patron(3, PatronImages[9], map));
            
        } catch (IOException e) {
            e.printStackTrace();
            System.out.println("Error loading images");
        }
    }

    @Override
    protected void paintComponent(Graphics g) {
        super.paintComponent(g);
        Graphics2D g2d = (Graphics2D) g;

        // Background
        g2d.drawImage(background, 0, 0, getWidth(), getHeight(), this);

        // Draw the vertical black lines separating the sections
        int sectionWidth = getWidth() / 3;
        g2d.setColor(Color.BLACK);
        g2d.drawLine(sectionWidth, 0, sectionWidth, getHeight());
        g2d.drawLine(2 * sectionWidth, 0, 2 * sectionWidth, getHeight());

        // Draw player areas in the left and right sections
        int playerBoxWidth = sectionWidth - 20;
        int playerBoxHeight = (getHeight() - 40) / 2;
        int playerXLeft = 10;
        int playerXRight = 2 * sectionWidth + 10;
        int playerY = 10;

        for (int i = 0; i < 2; i++) {
            drawPlayerArea(g2d, playerXLeft, playerY + i * (playerBoxHeight + 20), playerBoxWidth, playerBoxHeight, i + 1);
            drawPlayerArea(g2d, playerXRight, playerY + i * (playerBoxHeight + 20), playerBoxWidth, playerBoxHeight, i + 3);
        }

        // Leave space at the top of the middle section
        int middleTopSpace = 100;

        // Draw the PatronImages above the grid
        int patronWidth = 115;
        int patronHeight = 140;
        int patronSpacing = 10;
        int patronX = sectionWidth + (sectionWidth - (5 * patronWidth + 4 * patronSpacing)) / 2;
        int patronY = middleTopSpace;

        for (int i = 0; i < 5; i++) {
            BufferedImage patron = PatronImages[i];
            g2d.drawImage(patron, patronX + i * (patronWidth + patronSpacing), patronY, patronWidth, patronHeight, this);
        }

        // Draw the 4x3 grid of cards in the middle section
        int cardWidth = 115;
        int cardHeight = 165;
        int cardSpacing = 10;
        int gridX = sectionWidth + (sectionWidth - (3 * cardWidth + 2 * cardSpacing)) / 2;
        int gridY = patronY + patronHeight + 10;
        Random rnd = new Random();
        
        
        for (int row = 0; row < 3; row++) {
            for (int col = 0; col < 4; col++) {
            	if(row==0)
            	{
                	int rng = rnd.nextInt(20);
                	if( Level3ImagesUsed[rng] == false )
                	{
                		BufferedImage card = Level3Images.get(rng);
	            		g2d.drawImage(card, gridX + col * (cardWidth + cardSpacing), gridY + row * (cardHeight + cardSpacing), cardWidth, cardHeight, this);
	            		Level3ImagesUsed[rng] = true;
                	}
                	else
                	{
                		col--;
                	}
            	}
            	else if(row==1)
            	{
                	int rng = rnd.nextInt(30);
                	if( Level2ImagesUsed[rng] == false )
                	{
	            	BufferedImage card = Level2Images.get(rng);
	            	g2d.drawImage(card, gridX + col * (cardWidth + cardSpacing), gridY + row * (cardHeight + cardSpacing), cardWidth, cardHeight, this);
	            	Level2ImagesUsed[rng] = true;
                	}
                	else
                	{
                		col--;
                	}
            	}
            	else if(row==2)
            	{
                	int rng = rnd.nextInt(40);
                	if( Level1ImagesUsed[rng] == false )
                	{
	            	BufferedImage card = Level1Images.get(rng);
	            	g2d.drawImage(card, gridX + col * (cardWidth + cardSpacing), gridY + row * (cardHeight + cardSpacing), cardWidth, cardHeight, this);
	            	Level1ImagesUsed[rng] = true;
                	}
                	else
                	{
                		col--;
                	}
            	}
            	
            }
        }
        

        // Draw the larger decks to the left of the grid
        int deckWidth = cardWidth;
        int deckHeight = cardHeight;
        int deckSpacing = 10;
        int deckX = gridX - deckWidth - deckSpacing;
        int deckY = gridY;

        g2d.drawImage(level3Card, deckX, deckY, deckWidth, deckHeight, this);
        g2d.drawImage(level2Card, deckX, deckY + deckHeight + deckSpacing, deckWidth, deckHeight, this);
        g2d.drawImage(level1Card, deckX, deckY + 2 * (deckHeight + deckSpacing), deckWidth, deckHeight, this);

        // Draw the green line below all elements in the middle section
        int greenLineY = 800;
        g2d.setColor(Color.BLACK);
        g2d.drawLine(sectionWidth, greenLineY, 2 * sectionWidth, greenLineY);

        // Draw gems below the green line in the middle section
        int gemSize = 95;
        int gemSpacing = 10;
        int gemY = greenLineY + 10;
        int gemX = sectionWidth + (sectionWidth - (6 * gemSize + 5 * gemSpacing)) / 2;
        g2d.drawImage(blackGem, gemX, gemY, gemSize, gemSize, this);
        g2d.drawImage(blueGem, gemX + (gemSize + gemSpacing), gemY, gemSize, gemSize, this);
        g2d.drawImage(redGem, gemX + 2 * (gemSize + gemSpacing), gemY, gemSize, gemSize, this);
        g2d.drawImage(greenGem, gemX + 3 * (gemSize + gemSpacing), gemY, gemSize, gemSize, this);
        g2d.drawImage(whiteGem, gemX + 4 * (gemSize + gemSpacing), gemY, gemSize, gemSize, this);
        g2d.drawImage(reserveGem, gemX + 5 * (gemSize + gemSpacing), gemY, gemSize, gemSize, this);
    }

    private void drawPlayerArea(Graphics2D g2d, int x, int y, int width, int height, int playerNum) {
        g2d.setColor(Color.WHITE);
        g2d.fillRect(x, y, width, height);
        g2d.setColor(Color.BLACK);
        g2d.drawRect(x, y, width, height);

        // Center player title
        g2d.setFont(new Font("Arial", Font.BOLD, 18));
        FontMetrics fm = g2d.getFontMetrics();
        int titleWidth = fm.stringWidth("Player " + playerNum);
        g2d.drawString("Player " + playerNum, x + (width - titleWidth) / 2, y + 20);

        // Draw smaller gem boxes inside the player area
        int gemBoxWidth = width - 20;
        int gemBoxHeight = height / 8;
        int gemBoxX = x + 10;
        int gemBoxY = y + 40;

        g2d.setColor(Color.WHITE);
        g2d.fillRect(gemBoxX, gemBoxY, gemBoxWidth, gemBoxHeight);
        g2d.setColor(Color.BLACK);
        g2d.drawRect(gemBoxX, gemBoxY, gemBoxWidth, gemBoxHeight);

        // Draw player gems inside the gem boxes
        int gemSize = 50; // Bigger gems
        int gemSpacing = 40; // More space between each gem
        int playerGemX = gemBoxX + 10;
        int playerGemY = gemBoxY + (gemBoxHeight - gemSize) / 2;
        g2d.drawImage(blackGem, playerGemX, playerGemY, gemSize, gemSize, this);
        g2d.drawImage(blueGem, playerGemX + (gemSize + gemSpacing), playerGemY, gemSize, gemSize, this);
        g2d.drawImage(redGem, playerGemX + 2 * (gemSize + gemSpacing), playerGemY, gemSize, gemSize, this);
        g2d.drawImage(greenGem, playerGemX + 3 * (gemSize + gemSpacing), playerGemY, gemSize, gemSize, this);
        g2d.drawImage(whiteGem, playerGemX + 4 * (gemSize + gemSpacing), playerGemY, gemSize, gemSize, this);
        g2d.drawImage(reserveGem, playerGemX + 5 * (gemSize + gemSpacing), playerGemY, gemSize, gemSize, this);

        // Draw single, smaller tempCard image inside player box, aligned to the left
        int tempCardWidth = 60; // Same size as a standard card
        int tempCardHeight = 100;
        int tempCardX = gemBoxX + 10;
        int tempCardY = gemBoxY + gemBoxHeight + 10;
        g2d.drawImage(tempCard, tempCardX, tempCardY, tempCardWidth, tempCardHeight, this);
    }
    
    

    @Override
    public void mouseClicked(MouseEvent e) {}
    public void mouseReleased(MouseEvent e) {}
    public void mousePressed(MouseEvent e) {}
    public void mouseEntered(MouseEvent e) {}
    public void mouseExited(MouseEvent e) {}

}
